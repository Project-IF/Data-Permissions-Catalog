{{ define "main" }}

<div class="grid-container">
  <header>
    <div class="pattern-status">
      {{ if eq .Params.archived true }}
      <p class="archived">
        <span>Archived 🗄️</span>
        {{ .Params.archive_reason }}
      </p>
      {{ else if eq .Params.future_pattern true }}
      <p class="future-pattern"><span>Future pattern 🔮</span>
        This is a placeholder for future pattern description.
      </p>
      {{ end }}
    </div>
    <div class="pattern-heading">
      <h1 class="pattern-heading-title">{{ .Title }}</h1>
      {{ $dateAdded := .Params.Date }}
      {{ if ge $dateAdded (now.AddDate 0 -1 0) }}
      <p class="new-pattern">Just added ✨</p>
      {{ end }}
      <ul class="pattern-heading-share">
        <li class="share-li">
          <a class="share twitter-share-button"
             href="https://twitter.com/intent/tweet?text={{ .Site.Params.twitterText }}&url={{ .Permalink }}&via={{ .Site.Params.twitterHandle }}"
          >Tweet</a>
        </li>
        <li><a class="print" href="#">Print</a></li>
      </ul>
    </div>
  </header>

  <section class="pattern-image grid-x grid-padding-x">
  <div class="large-12 small-12 cell">
    <div class="pattern-image-div {{ urlize .Params.category }}">
      {{ if isset .Params "images" }}
      <img id="content" tabindex="0" class="" src="{{ (index .Params.images 0).url | relURL }}" alt="{{ .Params.alt }}" />
      {{ end }}
    </div>
  </div>
  </section>

  <section class="description grid-x grid-padding-x">
  <div class="large-2 large-offset-1 small-12 cell">
    <h2>Description</h2>
  </div>
  <div class="large-8 small-12 cell">
  {{ .Content }}
  </div>
  </section>

  {{ if isset .Params "advantages" }}
  <section class="advantages grid-x grid-padding-x">
  <div class="large-2 large-offset-1 small-12 cell">
    <h2>Advantages</h2>
  </div>
  <div class="large-7 small-12 cell">
    <ul>
      {{ range .Params.advantages }}
      <li>
        {{ . }}
      </li>
      {{ end }}
    </ul>
  </div>
  </section>
  {{ end }}

  {{ if isset .Params "limitations" }}
  <section class="limitations grid-x grid-padding-x">
  <div class="large-2 large-offset-1 small-12 cell">
    <h2>Limitations</h2>
  </div>
  <div class="large-7 small-12 cell">
    <ul>
      {{ range .Params.limitations }}
      <li>
        {{ . }}
      </li>
      {{ end }}
    </ul>
  </div>
  </section>
  {{ end }}

  {{ if isset .Params "examples" }}
  <section class="examples grid-x grid-padding-x">
  <div class="large-2 large-offset-1 small-12 cell">
    <h2>Examples</h2>
  </div>
  <div class="large-7 small-12 cell">
    <ul>
      {{ range .Params.examples }}
      <li>
        <div>
          {{ if isset . "title" }}
          <p class="examples-title"><a href="{{ .url }}">{{ .title }}</a></p>
          {{ end }}
          <p>{{ humanize .description }}</p>
        </div>
      </li>
      {{ end }}
    </ul>
  </div>
  </section>
  {{ end }}


  {{ if isset .Params "related_patterns" }}
  <section class="related-patterns grid-x grid-padding-x">
  <div class="large-2 large-offset-1 small-12 cell">
    <h2>Related Patterns</h2>
  </div>
  <div class="large-8 small-12 cell">
    <ul>
        {{ range .Params.related_patterns }}
        <li>
          <div>
            <a href="{{ .url | relURL }}">
              <img src="{{ .src | relURL }}" alt="{{ .alt_text }}">
            </a>
          </div>
        </li>
        {{ end }}
    </ul>
  </div>
  </section>
  {{ end }}
</div>

{{ partial "pattern-page-feedback.html" }}

{{ end }}
